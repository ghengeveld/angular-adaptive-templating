!function(){"use strict";angular.module("adaptiveTemplating",[]).provider("adaptiveTemplating",function(){var e=this,t=angular.extend({},window.Modernizr);this.addTest=function(e,r){return t[e]=r,this},this.removeTest=function(e){return delete t[e],this},this.getTests=function(){return angular.copy(t)},this.patternRegExp=/{([^{}]+?)}/gi,this.normalizeUrl=function(){var e=/\/\.+/g,t=/\.+\//g,r=/([^:])(\/|\.)\2+/g;return function(n){return n.replace(e,"/").replace(t,"/").replace(r,"$1$2")}}(),this.whenTrue=function(e,t,r){return e.replace(t,r)},this.whenFalse=function(e,t){return e.replace(t,"")},this.rewriteUrl=function(r){var n=r.match(e.patternRegExp);return n&&n.forEach(function(n){var i=n.replace(e.patternRegExp,"$1"),a=t[i];r="function"==typeof a&&a()||"boolean"==typeof a&&a?e.whenTrue(r,n,i):e.whenFalse(r,n,i)}),e.normalizeUrl(r)},this.$get=function(){return{addTest:this.addTest,removeTest:this.removeTest}}}).config(["$provide","adaptiveTemplatingProvider",function(e,t){e.decorator("$http",function(e){var r=e.get;return e.get=function(){return arguments[0]=t.rewriteUrl(arguments[0]),r.apply(this,arguments)},e})}])}();